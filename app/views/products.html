<div class="product">
  <div class="product-wrapper" ng-class="{'is-signed-in': user.isSignedIn}">
    
    <div class="input-group product-search">
        <!-- <div class="input-group-btn">
             <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
             <span class="current">Any</span> <span class="translate">beverages</span> <span class="caret"></span>
             </button>
             <ul class="dropdown-menu" role="menu">
             <li><a ng-click="type('beer')" class="translate"><i class="fa fa-check-square-o"></i> Beer</a></li>
             <li><a ng-click="type('cider')" class="translate"><i class="fa fa-check-square-o"></i> Cider</a></li>
             <li><a ng-click="type('vin')" class="translate"><i class="fa fa-check-square-o"></i> Wine</a></li>
             <li><a ng-click="type('whisky')" class="translate"><i class="fa fa-check-square-o"></i> Whiskey</a></li>
             <li class="divider"></li>
             <li><a ng-click="type('all')" class="translate">Any</a></li>
        </ul>
    </div> -->
      <div class="input-group-btn">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              <span class="translate">Allergy: </span>
              <span class="current">{{allergy}}</span>
              <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
              <li>
                  <a ng-click="allergyfn('gluten')" class="translate">
                      <i ng-show="!allergies['gluten']" class="fa fa-square-o"></i><i ng-show="allergies['gluten']" class="fa fa-check-square-o"></i> Gluten
                  </a>
              </li>
              <li>
                  <a ng-click="allergyfn('alcohol')" class="translate">
                      <i ng-show="!allergies['alcohol']" class="fa fa-square-o"></i><i ng-show="allergies['alcohol']" class="fa fa-check-square-o"></i> Alcohol
                  </a>
              </li>
              <!-- <li class="divider"></li>
                   <li><a ng-click="allergy('no')" class="translate">None</a></li> -->
          </ul>
      </div>
      <div class="input-group-btn">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              <span>Sort by: </span>
              <span class="current">{{predicateName}}</span>
              <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
              <li><a ng-click="order($event, 'namn', false)" ng-show="predicate != 'namn'"
                     class="translate">Name a-ö</i>
              </a></li>
              <li><a ng-click="order($event, 'namn', true)" ng-show="predicate != '-namn'"
                     class="translate">Name ö-a</i>
              </a></li>
              <li><a ng-click="order($event, 'pub_price', false)" ng-show="predicate != 'pub_price'"
                     class="translate">Price low-high</i>
              </a></li>
              <li><a ng-click="order($event, 'pub_price', true)" ng-show="predicate != '-pub_price'"
                     class="translate">Price high-low</i>
              </a></li>
          </ul>
      </div>
      <!-- <span class="input-group-addon">
           <label ng-click="">
           <input type="checkbox"> <span class="translate"/>Gluten allergy</span>
           </label>
           </span> -->
      <input type="text" class="form-control" name="x" placeholder="Search term..." ng-model="search.namn"/>
      <!-- <span class="input-group-btn">
           <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
           </span> -->
    </div>

    <div class="col products">
      <div class="products-items" data-ng-class="{'dragging': dragging}">
          <div class="product-item-wrapper col-md-3 col-sm-6" data-ng-repeat="item in items | filter:filterAlcohol | filter:search | orderBy:predicate">
          <div class="products-item" id="products-item-{{item.beer_id}}" draggable="true">
            <div class="item-image">
              <img draggable="false" src="images/beer.svg" />
            </div>
            <div class="item-namn">
              {{ item.namn }}
            </div>
            <div class="item-price">
              {{ item.pub_price }} Kr
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="cart-drop-wrapper">
      <div class="cart-drop" data-ng-class="{'hovered': canDrop}">
        <img src="images/cart.svg" class="cart-drop-icon"/>
      </div>
    </div>
  </div>

  <div 
    class="cart-wrapper" 
    data-ng-span="user.isSignedIn"
    data-ng-controller="CartCtrl" 
    data-ng-class="{'expanded': cart.isExpanded}"
  >
    <div class="cart">
      <div class="cart-expand-stripe" data-ng-click="toggleCart()">
        <div class="stripe-content">
          {{ expandText }}
        </div>
      </div>
      <div class="cart-main">
        <div class="cart-items">
          <div class="cart-item" data-ng-repeat="item in cart.items" data-ng-if="item">
            <div class="cart-item-namn">
              {{ item.namn }}
            </div>
            <div class="cart-item-price">
              {{ item.price }}
            </div>
            <div class="cart-item-quantity">
              <button class="btn btn-primary" data-ng-click="decreaseItem(item.beer_id)">◀</button>
              <input data-ng-model="item.quantity" />
              <button class="btn btn-primary" data-ng-click="increaseItem(item.beer_id)">▶</button>
            </div>
          </div>
        </div>

        <div class="cart-actions">
          <div class="cart-redo-undo">
            <button class="btn btn-danger" data-ng-click="redo()" data-ng-class="{'disabled': !cart.redoable}">
              Redo
            </button>
            <button class="btn btn-primary" data-ng-click="undo()" data-ng-class="{'disabled': !cart.undoable}">
              Undo
            </button>
          </div>
          <button class="btn btn-success cart-checkout">
            Checkout {{ totalPrice | price }} Kr
          </button>
        </div>
      </div>
    </div>
    <div class="cart-phantom">
    </div>
  </div>
  <div class="cart-main">
  </div>
</div>
